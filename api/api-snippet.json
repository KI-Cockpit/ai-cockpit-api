{
    "openapi": "3.0.1",
    "info": {
      "title": "OpenAPI definition",
      "version": "v0"
    },
    "paths": {
      "/api/decisiontype": {
        "get": {
          "tags": [
            "decision-type-controller"
          ],
          "summary": "Get all decisiontype",
          "operationId": "findAll",
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/DecisionTypeEntity"
                    }
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "decision-type-controller"
          ],
          "summary": "Update decisiontype",
          "operationId": "update",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DecisionTypeEntity"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/DecisionTypeEntity"
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "decision-type-controller"
          ],
          "summary": "Create decisiontype",
          "operationId": "save",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DecisionTypeEntity"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/DecisionTypeEntity"
                  }
                }
              }
            }
          }
        }
      },
      "/api/decisiontype/update-list": {
        "put": {
          "tags": [
            "decision-type-controller"
          ],
          "summary": "Update a list of Traffic Incident Type",
          "operationId": "updateList",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DecisionTypeEntity"
                  }
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK"
            }
          }
        }
      },
      "/api/decision": {
        "get": {
          "tags": [
            "decision-controller"
          ],
          "summary": "Get all decision",
          "operationId": "findAll_1",
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/DecisionEntity"
                    }
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "decision-controller"
          ],
          "summary": "Update decision",
          "operationId": "update_1",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DecisionEntity"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/DecisionEntity"
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "decision-controller"
          ],
          "summary": "Create decision",
          "operationId": "save_1",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DecisionEntity"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/DecisionEntity"
                  }
                }
              }
            }
          }
        }
      },
      "/api/actiontype": {
        "get": {
          "tags": [
            "action-type-controller"
          ],
          "summary": "Get all actiontype",
          "operationId": "findAll_2",
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ActionTypeEntity"
                    }
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "action-type-controller"
          ],
          "summary": "Update actiontype",
          "operationId": "update_2",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActionTypeEntity"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/ActionTypeEntity"
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "action-type-controller"
          ],
          "summary": "Create actiontype",
          "operationId": "save_2",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActionTypeEntity"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/ActionTypeEntity"
                  }
                }
              }
            }
          }
        }
      },
      "/api/actiontype/update-list": {
        "put": {
          "tags": [
            "action-type-controller"
          ],
          "summary": "Update a list of actiontype",
          "operationId": "updateList_1",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ActionTypeEntity"
                  }
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK"
            }
          }
        }
      },
      "/api/action": {
        "get": {
          "tags": [
            "action-controller"
          ],
          "summary": "Get all action",
          "operationId": "findAll_3",
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ActionEntity"
                    }
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "action-controller"
          ],
          "summary": "Update action",
          "operationId": "update_3",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActionEntity"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/ActionEntity"
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "action-controller"
          ],
          "summary": "Create action",
          "operationId": "save_3",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActionEntity"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/ActionEntity"
                  }
                }
              }
            }
          }
        }
      },
      "/api/decisiontype/{id}": {
        "get": {
          "tags": [
            "decision-type-controller"
          ],
          "summary": "Get decisiontype with id",
          "operationId": "findById_1",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/DecisionTypeEntity"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": [
            "decision-type-controller"
          ],
          "summary": "Delete decisiontype",
          "operationId": "delete",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK"
            }
          }
        }
      },
      "/api/decision/{id}": {
        "get": {
          "tags": [
            "decision-controller"
          ],
          "summary": "Get decision with id",
          "operationId": "findById_2",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/DecisionEntity"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": [
            "decision-controller"
          ],
          "summary": "Delete decision",
          "operationId": "delete_1",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK"
            }
          }
        }
      },
      "/api/actiontype/{id}": {
        "get": {
          "tags": [
            "action-type-controller"
          ],
          "summary": "Get actiontype with id",
          "operationId": "findById_3",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/ActionTypeEntity"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": [
            "action-type-controller"
          ],
          "summary": "Delete actiontype",
          "operationId": "delete_2",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK"
            }
          }
        }
      },
      "/api/actiontype/by-incident-type/{id}": {
        "get": {
          "tags": [
            "action-type-controller"
          ],
          "summary": "Get actiontype by incident type",
          "operationId": "findBydecisionType",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ActionTypeEntity"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/api/action/{id}": {
        "get": {
          "tags": [
            "action-controller"
          ],
          "summary": "Get action with id",
          "operationId": "findById_4",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                    "$ref": "#/components/schemas/ActionEntity"
                  }
                }
              }
            }
          }
        },
        "delete": {
          "tags": [
            "action-controller"
          ],
          "summary": "Delete action",
          "operationId": "delete_3",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK"
            }
          }
        }
      },
      "/api/autonomylevel-by-actiontype/{id}": {
        "get": {
          "summary": "Get autonomylevel by action type id",
          "operationId": "findById_5",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/hal+json": {
                  "schema": {
                      "type": "string",
                      "enum": [
                          "MANUAL",
                          "WITHCHECK",
                          "AUTOMATIC"
                      ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "components": {
      "schemas": {
        "ActionEntity": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "creationTime": {
              "type": "string",
              "format": "date-time"
            },
            "name": {
              "type": "string"
            },
            "description": {
              "type": "string"
            },
            "decision": {
              "$ref": "#/components/schemas/DecisionEntity"
            },
            "actionType": {
              "$ref": "#/components/schemas/ActionTypeEntity"
            }
          }
        },
        "ActionTypeEntity": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "name": {
              "type": "string"
            },
            "description": {
              "type": "string"
            },
            "executionPolicy": {
              "type": "string",
              "enum": [
                "MANUAL",
                "WITHCHECK",
                "AUTOMATIC"
              ]
            },
            "mitigationAction": {
              "uniqueItems": true,
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/ActionEntity"
              }
            },
            "decisionType": {
              "uniqueItems": true,
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/DecisionTypeEntity"
              }
            }
          }
        },
        "DecisionEntity": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "acquisitionTime": {
              "type": "string",
              "format": "date-time"
            },
            "mediaUrl": {
              "type": "string"
            },
            "cameraLatitude": {
              "type": "number"
            },
            "cameraLongitude": {
              "type": "number"
            },
            "state": {
              "type": "string",
              "enum": [
                "NEW",
                "ACCEPTED",
                "REJECTED"
              ]
            },
            "description": {
              "type": "string"
            },
            "decisionType": {
              "$ref": "#/components/schemas/DecisionTypeEntity"
            },
            "mitigationAction": {
              "uniqueItems": true,
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/ActionEntity"
              }
            }
          }
        },
        "DecisionTypeEntity": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "name": {
              "type": "string"
            },
            "description": {
              "type": "string"
            },
            "decision": {
              "uniqueItems": true,
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/DecisionEntity"
              }
            },
            "actionType": {
              "uniqueItems": true,
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/ActionTypeEntity"
              }
            }
          }
        }
      }
    }
  }
  